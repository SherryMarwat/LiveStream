/** Advanced iframe pro external workaround file 2023.10. Created: 2023-12-26 07:20:03 */
var extendedDebug=!1,aiParent=window.parent;if(void 0===domain_advanced_iframe)var domain_advanced_iframe="//localhost/WatchPlay/wp-content/plugins/advanced-iframe";function aiTrimExtraChars(e){return null==e?"":e.toString().replace(/^[\s:;]+|[\s:;]+$/g,"")}function aiDebugExtended(e){extendedDebug&&console&&console.log&&console.log("Advanced iframe: "+e)}function aiModifyIframe(){if(aiDebugExtended("calling aiModifyIframe"),!ee){if("true"===D){var e=window.location.toString();"/"===e.substr(-1)&&(e=e.substr(0,e.length-1));var i=e.lastIndexOf("/"),t=e.substring(i+1).replace(/[^A-Za-z0-9]/g,"-"),a=jQuery("body");a.addClass("ai-"+t),jQuery("#ai_wrapper_div").length?jQuery("#ai_wrapper_div").children("div").each(function(e){jQuery(this).addClass("ai-"+t+"-child-"+(e+1))}):a.children("div").each(function(e){jQuery(this).addClass("ai-"+t+"-child-"+(e+1))})}if(""!==m&&"false"===T&&jQuery(m).css("display","none").css("width","0").css("height","0"),""!==p&&aiShowElementOnly(p),"false"===T&&(""!==g||""!==y)){var r=g.split("|"),n=y.split("|");if(r.length!==n.length){alert("Configuration error: The attributes iframe_content_id and iframe_content_styles have to have the amount of value sets separated by |.");return}for(var o=0;o<r.length;++o)for(var d=aiTrimExtraChars(n[o]).split(";"),s=0;s<d.length;++s){var l=d[s].split(":");jQuery(r[o]).css(l[0],l[1])}}if(""!==$&&(""!==b||""!==x)){var f=$.split("|"),c=b.split("|"),h=x.split("|");if(f.length<c.length&&f.length<h.length){alert("Configuration error: The attribute change_iframe_links has to have at least the same amount of values separated by | as change_iframe_links_target and change_iframe_links_href. Please read the documentation for details.");return}if($.length>0)for(var u=0;u<f.length;++u)jQuery("body").on("mouseover keydown",f[u],c[u],function(e){if("_blank"===e.data){var i=void 0===this.rel?"":this.rel.toLowerCase(),t=i.split(" ");-1===i.indexOf("noopener")&&t.push("noopener"),jQuery(this).attr("rel",t.join(" ").trim())}jQuery(this).attr("target",e.data)});if(x.length>0)for(var v=0;v<h.length;++v){var E=h[v].split("~");if(2===E.length)jQuery("body").on("mouseover keydown",f[v],E,function(e){var i=e.data;void 0===this.href||this.href.includes(i[1])||("append"===i[0]?this.href=this.href.concat(i[1]):this.href=this.href.replace(i[0],i[1]))});else{alert("Configuration error: The attribute change_iframe_links_href has not the required ~ seperator set. Please read the documentation for details");return}}}else if(""!==b||""!==x){alert("Configuration error: The attribute change_iframe_links has to have at least the same amount of values separated by | as change_iframe_links_target and change_iframe_links_href. Please read the documentation for details.");return}""!==R&&jQuery(document).on("click",R,function(){aiSendScrollToTop()}),ee=!0,S&&aiSetCookie("aiIframeModifications","true")}}function aiShowElementOnly(e){if(aiDebugExtended("aiShowElementOnly"),-1===e.indexOf("|")){var i=jQuery("body"),t=i.find(e).clone(!0,!0);i.find("*").not(jQuery("script")).remove(),i.prepend(t)}else{var a=jQuery(e.split("|")[0]);a.siblings().hide();var r=a.parents();r.siblings().hide(),r.css("padding","0px").css("margin","0px")}}function aiInitElementResize_advanced_iframe(){if(aiDebugExtended("aiInitElementResize_advanced_iframe"),""!==A&&!1===B){var e,i,t,a,r,n,o,d,s,l,f,c;i=jQuery,t=this,n=i([]),o=i.resize=i.extend(i.resize,{}),d="setTimeout",l=(s="resize")+"-special-event",c="throttleWindow",o[f="delay"]=250,o[c]=!1,i.event.special[s]={setup:function(){if(!this.nodeName||!o[c]&&this[d])return!1;var e=i(this);n=n.add(e),i.data(this,l,{w:e.width(),h:e.height()}),1===n.length&&function e(){r=t[d](function(){n.each(function(){var e=i(this),t=e.width(),a=e.height(),r=i.data(this,l);(r&&t!==r.w||a!==r.h)&&e.trigger(s,[r.w=t,r.h=a])}),e()},o[f])}()},teardown:function(){if(!o[c]&&this[d])return!1;var e=i(this);n=n.not(e),e.removeData(l),n.length||clearTimeout(r)},add:function(e){var t;function r(e,r,n){var o=i(this),d=i.data(this,l);void 0!==d&&(d.w=r!==a?r:o.width(),d.h=n!==a?n:o.height()),t.apply(this,arguments)}return(!!o[c]||!this[d])&&(i.isFunction(e)?(t=e,r):void(t=e.handler,e.handler=r))}},jQuery().resize||alert('jQuery.resize is not available. Most likely you have included jQuery AFTER the ai_external.js. Please include jQuery before the ai_external.js. If you cannot do this please disable "Resize on element resize"'),""!==P&&parseInt(P,10)>=50&&(jQuery.resize.delay=P),0===(e="body"===A?jQuery("body"):jQuery("body").find(A)).length?console&&console.error&&console.error('Advanced iframe configuration error: The configuration of "resize_on_element_resize" is invalid. The specified element '+encodeURI(A)+" could not be found. Please check your configuration. If your content is loaded dynamically please specify onload_resize_delay with a time that is longer then your content needs to load!"):e.resize(function(){ee=!1,h=10,aiExecuteWorkaround_advanced_iframe(!1)}),B=!0}}function aiExecuteWorkaround_advanced_iframe(t){aiDebugExtended("aiExecuteWorkaround_advanced_iframe"),t=void 0===t||t;var a=!1;if(S&&(a="true"==aiGetCookie("aiIframeModifications")),window!==window.top){if(0===h&&t&&(aiModifyIframe(),aiInitElementResize_advanced_iframe()),"true"===c){var n,l=!0;if(!o){n=domain_advanced_iframe+"/js/iframe_height.html";var f='<iframe id="ai_hidden_iframe_advanced_iframe" style="display:none;clear:both" width="0" height="0" src="',m=aiCreate(f+='about:blank">Iframes not supported.</iframe>');document.body.appendChild(m)}t&&(aiCreateAiWrapperDiv(),aiAddCss("body {margin:0px;padding:0px;overflow:hidden;}"));var p=0;if(0===h){var g=aiGetWrapperElement(W);p=parseInt(Math.max(g.scrollHeight,g.offsetHeight),10)+G,H=aiGetIframeWidth(g)}if(-1===i||Math.abs(i-p)>=5){if(0===h&&(p<10||p>1e4)&&(h=500),0===h){if(o){var y=aiGetAnchorPosition(),$={aitype:"height",height:p+4,width:H,id:e,anchor:y,data:{}};"remote"===I&&($.loc=encodeURIComponent(window.location)),"remote"===M&&($.title=encodeURIComponent(document.title)),aiExtractAdditionalContent(s,$);var b=JSON.stringify($);d&&console&&console.log&&console.log("Advanced iframe: postMessage sent: "+b+" - targetOrigin: "+r),aiParent.postMessage(b,r),aiHandleAnchorLinkScrolling()}else{var x=document.getElementById("ai_hidden_iframe_advanced_iframe"),E="height="+(p+4)+"&width="+H+"&id="+e;"remote"===I&&(E+="&loc="+encodeURIComponent(window.location)),"remote"===M&&(E+="&title="+encodeURIComponent(document.title)),x.src=n+"?"+E}i=p}else l=!1,setTimeout(function(){aiResizeLater_advanced_iframe()},h)}if("false"===u){var _=h+500;window.setTimeout(aiRemoveOverflowHidden,_)}"true"===k&&t&&window.setTimeout(aiInitResize_advanced_iframe,h+1e3),l&&(document.documentElement.style.visibility="visible")}else if("true"===v){if(o){var w={aitype:"show",id:e};aiExtractAdditionalContent(s,w);var C=JSON.stringify(w);d&&console&&console.log&&console.log("Advanced iframe: postMessage sent: "+C+" - targetOrigin: "+r),aiParent.postMessage(C,r)}else{var T='<iframe id="ai_hidden_iframe_show_advanced_iframe" style="display:none;" width="0" height="0" src="',A=aiCreate(T+=domain_advanced_iframe+"/js/iframe_show.html?id="+e+'">Iframes not supported.</iframe>');document.body.appendChild(A)}document.documentElement.style.visibility="visible"}else document.documentElement.style.visibility="visible";"true"===j&&(document.oncontextmenu=function(){return!1})}else a&&(0===h?(aiModifyIframe(),document.documentElement.style.visibility="visible"):setTimeout(function(){aiModifyIframe(),document.documentElement.style.visibility="visible"},h))}function aiGetAnchorPosition(){if(window.location.hash)try{var e=jQuery(window.location.hash);if(0!==e.length)return Math.round(e.offset().top)}catch(i){}return -1}function aiResizeLater_advanced_iframe(){aiDebugExtended("aiResizeLater_advanced_iframe"),0!==h&&(aiModifyIframe(),aiInitElementResize_advanced_iframe());var t=aiGetWrapperElement(W),a=parseInt(Math.max(t.scrollHeight,t.offsetHeight),10)+G,n=aiGetIframeWidth(t);if(a>10){if(Math.abs(i-a)>=5){if(o){var l=aiGetAnchorPosition(),f={aitype:"height",height:a+4,width:n,id:e,anchor:l,data:{}};"remote"===I&&(f.loc=encodeURIComponent(window.location)),"remote"===M&&(f.title=encodeURIComponent(document.title)),aiExtractAdditionalContent(s,f);var c=JSON.stringify(f);d&&console&&console.log&&console.log("Advanced iframe: postMessage sent: "+c+" - targetOrigin: "+r),aiParent.postMessage(c,r),aiHandleAnchorLinkScrolling()}else{var u=document.getElementById("ai_hidden_iframe_advanced_iframe"),v="height="+(a+4)+"&width="+n+"&id="+e;"remote"===I&&(v+="&loc="+encodeURIComponent(window.location)),"remote"===M&&(v+="&title="+encodeURIComponent(document.title)),u.src=domain_advanced_iframe+"/js/iframe_height.html?"+v}"true"===k&&(n=aiGetIframeWidth(t)),i=a}}else d&&console&&console.error&&console.error('Advanced iframe configuration error: The height of the page cannot be detected with the current settings. Please check the documentation of "element_to_measure" how to define an alternative element to detect the height. Also you can try to add the style overflow:hidden to this element in your html or with the plugin dynamically. Hidden iframes can also not be measured by default. Make sure to use one of the solutions described in the documentation.');document.documentElement.style.visibility="visible"}function aiRemoveOverflowHidden(){document.body.style.overflow="auto"}function aiGetTextLength(e){return(e.textContent?e.textContent:"NO_TEXT").trim().length}function aiCreateAiWrapperDiv(){aiDebugExtended("aiCreateAiWrapperDiv");for(var e=0,i=0;i<document.body.childNodes.length;++i){var t=document.body.childNodes[i].nodeName.toLowerCase();0!==aiGetTextLength(document.body.childNodes[i])&&"script"!==t&&"iframe"!==t&&e++}var a=-1!==W.indexOf("nowrapper");if(e>1&&!a){var r=document.createElement("div");for(r.id="ai_wrapper_div";document.body.firstChild;)r.appendChild(document.body.firstChild);document.body.appendChild(r),r.style.cssText="margin:0px;padding:0px;border: none;overflow: hidden;"+z,0===W.lastIndexOf("default",0)&&(W="#"+r.id)}}function aiCreate(e){var i=document.createDocumentFragment(),t=document.createElement("div");for(t.innerHTML=e;t.firstChild;)i.appendChild(t.firstChild);return i}function aiGetIframeWidth(e){aiDebugExtended("aiGetIframeWidth");var i=null==e?aiGetWrapperElement(W):e,t=Math.max(i.scrollWidth,i.offsetWidth),a=jQuery(i).css("width");if(void 0!==a&&!1!==a){var r=jQuery(i).css("max-width");void 0!==r&&"none"!==r||(t=a)}return parseInt(t,10)}function aiInitResize_advanced_iframe(){aiDebugExtended("aiInitResize_advanced_iframe"),jQuery(window).resize(function(){if("true"===k){var e=aiGetIframeWidth(null);H!==e&&(H=e,"false"===u&&(document.body.style.overflow="hidden"),ee=!1,h=10,aiExecuteWorkaround_advanced_iframe(!1),"false"===u&&window.setTimeout(aiResizeLater_advanced_iframe,500))}})}function aiSetCookie(e,i){document.cookie=e+"="+(i||"")+"; path=/;"+("https:"===document.location.protocol?" Secure; SameSite=None;Partitioned":"")}function aiGetCookie(e){for(var i=e+"=",t=document.cookie.split(";"),a=0;a<t.length;a++){for(var r=t[a];" "==r.charAt(0);)r=r.substring(1,r.length);if(0==r.indexOf(i))return r.substring(i.length,r.length)}return""}function aiAddCss(e){var i=document.createElement("style");i.type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e)),document.getElementsByTagName("head")[0].appendChild(i)}function aiAddOnloadEvent(e){if(aiDebugExtended("aiAddOnloadEvent"),void 0!==window.addEventListener)window.addEventListener("load",e,!1);else if(void 0!==window.attachEvent)window.attachEvent("onload",e);else if(null!==window.onload){var i=window.onload;window.onload=function(t){i(t),window[e]()}}else window.onload=e;window.addEventListener("orientationchange",function(){h=100,aiExecuteWorkaround_advanced_iframe(!1)},!1)}function aiGetUrlParameter(e){var i=RegExp("[\\?&]"+(e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"))+"=([^&#]*)").exec(window.location.href);return null==i?"":RegExp("^[a-zA-Z0-9_-]+$").test(i[1])?i[1]:""}function aiGetWrapperElement(e){var i;return(null==(i="default"===(e=e.split("|")[0])||""===e?document.body.children[0]:e.indexOf("#")>-1||e.indexOf(".")>-1?jQuery(e)[0]:document.getElementById(e))||0===i.length)&&(i=document.body.children[0],console&&console.error&&(null==i?console.error('Advanced iframe configuration error: The configuration of "element_to_measure" is invalid. The specified element '+encodeURI(e)+' could not be found. Please check your configuration. As fallback "default" is used which measures the first child of the body.'):(i=document.body,console.error("Advanced iframe configuration error: The body has no child elements. This means either your content is loaded dynamically and you need to increase onload_resize_delay or your html is somehow corrupt. Check if all elements are closed properly.")))),i.style.marginTop=i.style.marginBottom=0,i}function aiWriteCssDirectly(){aiDebugExtended("aiWriteCssDirectly");var e="";if(""!==m&&(e+=m+"{ display: none !important; width:0px; height:0px }"),""!==g||""!==y){var i=g.split("|"),t=y.split("|");if(i.length!==t.length){alert("Configuration error: The attributes iframe_content_id and iframe_content_styles have to have the amount of value sets separated by |.");return}for(var a=0;a<i.length;++a)e+=i[a]+"{",e+=aiTrimExtraChars(t[a]),e+="}"}if(""!==e){var r=document.createElement("style");r.innerHTML=e,document.head.appendChild(r)}}function aiExtractAdditionalContent(e,i){if(""!==e)try{for(var t=e.split(","),a=0;a<t.length;++a){var r=aiTrimExtraChars(t[a]).split("|");i.data[r[0]]=jQuery(r[1]).html()}}catch(n){console&&console.error&&(console.error("Advanced iframe configuration error: dataPostMessage is set to an invalid value. Please check your configuration."),console.log(n))}}function aiSendScrollToTop(){var i=JSON.stringify({aitype:"scrollToTop",id:e});aiParent.postMessage(i,r)}function aiHandleAnchorLinkScrolling(){jQuery("a[href^='#']").on("click",function(i){var t=jQuery(this).attr("href"),a=jQuery(t);if(0!=a.length){var n,o=JSON.stringify({aitype:"anchor",id:e,position:Math.round(a.offset().top+2)});aiParent.postMessage(o,r),d&&console&&console.log&&console.log("Advanced iframe: postMessage sent: "+o+" - targetOrigin: "+r)}})}String.prototype.includes||(String.prototype.includes=function(e,i){return"number"!=typeof i&&(i=0),!(i+e.length>this.length)&&-1!==this.indexOf(e,i)}),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var safari_cookie_fix_value=aiGetUrlParameter("safari_cookie_fix");if(""!==safari_cookie_fix_value&&("true"==safari_cookie_fix_value?(document.documentElement.style.visibility="hidden",document.cookie="safari_cookie_fix=fixed; path=/; Secure; SameSite=None; Partitioned;","fixed"!==aiGetCookie("safari_cookie_fix")&&("undefined"==typeof safari_cookie_fix_no_cookie_message&&(safari_cookie_fix_message="This website requires that cookies are accepted. Please change your browser settings to continue."),alert(safari_cookie_fix_message)),window.location.replace(document.referrer)):"message"==safari_cookie_fix_value&&"fixed"!==aiGetCookie("safari_cookie_fix")&&("undefined"==typeof safari_cookie_fix_message&&(safari_cookie_fix_message='This website requires that third-party cookies are accepted. Please change your browser settings that at least "from visited" cookies are allowed.'),alert(safari_cookie_fix_message))),"undefined"==typeof loadedConfigs)var loadedConfig={};var doIt=!0;if(doIt){e="undefined"==typeof iframe_id?"advanced_iframe":iframe_id;var e,i=-1;if(void 0===t)var t="";if(void 0===a){if("undefined"!=typeof aiExternalSettings&&aiExternalSettings.hasOwnProperty("domainMultisite"))var a=aiExternalSettings.domainMultisite;else var a="true"}if(void 0===r){var r="*",n=r.split("/")[2];r=document.location.protocol+n}if("true"===a&&(r="*"),void 0===o){if("undefined"!=typeof aiExternalSettings&&aiExternalSettings.hasOwnProperty("usePostMessage"))var o="1"===aiExternalSettings.usePostMessage;else var o=!0}if(void 0===d)var d=!1;if(void 0===s)var s="";if(""!==t){var l=aiGetUrlParameter(t);if(""!==l)e=l;else if(window!==window.top){var f="Configuration error: The id cannot be found in the url at the configured parameter.";throw alert(f),f}}if(void 0===c)var c="true";if(void 0===h)var h=0;if(void 0===u)var u="false";if(void 0===v)var v="false";if(void 0===m)var m="";if(void 0===p)var p="";if(void 0===g)var g="";if(void 0===y)var y="";if(void 0===$)var $="";if(void 0===b)var b="";if(void 0===x)var x="";if(void 0===E)var E="";if(void 0===_)var _="";if(void 0===w)var w="";if(void 0===C)var C="";if(void 0===k)var k="false";if(void 0===T)var T="false";if(void 0===A)var A="";if(void 0===P)var P="250";if(void 0===I)var I="false";if(void 0===M)var M="false";if(void 0===W)var W="default";if(void 0===G)var G=0;var O=!1;if(void 0===S)var S=!1;if(void 0===z)var z="";if(void 0===D)var D="false";if(void 0===R)var R="";if(void 0===L){var L=!1;("true"===aiGetUrlParameter("send_console_log")||"true"===aiGetCookie("debugAiExternal"))&&(L=!0),"false"===aiGetUrlParameter("send_console_log")&&(L=!1,document.cookie="debugAiExternal=; path=/; Secure; SameSite=None;Partitioned;expires=Thu, 01 Jan 1970 00:00:01 GMT"),L&&(extendedDebug=!0,d=!0,document.cookie="debugAiExternal=true; path=/; Secure; SameSite=None; Partitioned")}if(void 0===j)var j="false";if(void 0===N)var N="//localhost/WatchPlay/wp-includes/js/jquery/jquery.js";var H=0,B=!1;if(""!==C){var q=C.split("|"),U=q[0];if(""!==window.location.search&&-1===C.indexOf("?")&&(U+=window.location.search),window===window.top)location.replace(U);else{var Q=document.referrer;if(""!==Q){for(var F=window.location.hostname,Z=!0,J=0;J<q.length;J++){var X,K=q[J].split("/")[2],V=Q.split("/")[2];if(K===V||V===F){Z=!1;break}}Z&&top.location.replace(U)}else top.location.replace(U)}}window.jQuery||document.write('<script src="'+N+'"></script>'),"true"===k&&(c="true");var Y=!1;if(S&&(Y="true"==aiGetCookie("aiIframeModifications")),void 0===ee){(window!==window.top||Y)&&(""!==m||""!==p||""!==g||""!==y)&&document.documentElement&&"false"===T&&(document.documentElement.style.visibility="hidden");var ee=!1}if(aiAddOnloadEvent(aiExecuteWorkaround_advanced_iframe),"true"===T&&(window!==window.top||Y)&&aiWriteCssDirectly(),""!==w&&(window!==window.top||Y)){var ei=document.createElement("link");ei.rel="stylesheet",ei.type="text/css",ei.href=w,document.getElementsByTagName("HEAD")[0].appendChild(ei)}if(""!==E&&(window!==window.top||Y)){var et=document.createElement("script");et.type="text/javascript",et.src=E,document.getElementsByTagName("head")[0].appendChild(et)}if(""!==_&&(window!==window.top||Y)){var ea=document.createElement("script");ea.innerHTML=_,document.head.appendChild(ea)}o&&L&&console&&console.log&&(console.defaultLog=console.log.bind(console),console.logs=[],console.log=function(){console.defaultLog.apply(console,arguments),console.logs.push(Array.from(arguments));var i={aitype:"debug",id:e,data:"LOG: "+[].map.call(arguments,JSON.stringify)},t=JSON.stringify(i);aiParent.postMessage(t,r)},console.defaultWarn=console.warn.bind(console),console.warns=[],console.warn=function(){console.defaultWarn.apply(console,arguments),console.warns.push(Array.from(arguments));var i={aitype:"debug",id:e,data:"WARN: "+[].map.call(arguments,JSON.stringify)},t=JSON.stringify(i);aiParent.postMessage(t,r)},console.defaultError=console.error.bind(console),console.errors=[],console.error=function(){console.defaultError.apply(console,arguments),console.errors.push(Array.from(arguments));var i={aitype:"debug",id:e,data:"ERROR: "+[].map.call(arguments,JSON.stringify)},t=JSON.stringify(i);aiParent.postMessage(t,r)},window.onerror=function(i,t,a,n,o){var d=JSON.stringify({aitype:"debug",id:e,data:"ERROR: "+i+" - "+a+":"+n});return aiParent.postMessage(d,r),!1})}